
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Diretivas Personalizadas — Vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Intuitivo, Rápido e Modularizado framework MVVM para construção de interfaces interativas.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="Diretivas Personalizadas — Vue.js">
        <meta property="og:description" content="Vue.js - Intuitivo, Rápido e Modularizado framework MVVM para construção de interfaces interativas.">
        <meta property="og:image" content="https://br.vuejs.org//images/logo.png">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Diretivas Personalizadas — Vue.js">
        <meta name="twitter:description" content="Vue.js - Intuitivo, Rápido e Modularizado framework MVVM para construção de interfaces interativas.">
        <meta name="twitter:image" content="https://br.vuejs.org/images/logo.png">

        <link rel="icon" href="/images/logo.png" type="image/x-icon">

        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>

        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/vue.js"></script>
        <script>window.PAGE_TYPE = "guide"</script>

        <!-- ga -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-46852172-1', 'br.vuejs.org');
          ga('send', 'pageview');
        </script>
    </head>
    <body class="docs">        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/v2/guide/" class="nav-link current">Guia</a></li>
<li><a href="/v2/api/" class="nav-link">API</a></li>
<li><a href="/v2/examples/" class="nav-link">Exemplos</a></li>
<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Ecossistema</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Ajuda</h4></li>
    <li><ul>
      <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">Forum</a></li>
      <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank" style="display: inline-block; padding-right: 0">Chat</a> (<a href="https://vuejs-brasil.slack.com/" class="nav-link" target="_blank" style="display: inline-block; padding: 0">pt-BR</a>)</li>
      <li><a href="https://github.com/vuejs-templates" class="nav-link" target="_blank">Templates</a></li>
    </ul></li>
    <li><h4>Notícias</h4></li>
    <li><ul>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Empregos</a></li>
    </ul></li>
    <li><h4>Plugins Oficiais</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
    </ul></li>
    <li><h4>Listas de Recursos</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Repositórios Oficiais</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Traduções</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/" class="nav-link" target="_blank">Inglês</a></li>
    <li><a href="https://br.vuejs.org/" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://cn.vuejs.org/" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://ru.vuejs.org/" class="nav-link" target="_blank">Русский</a></li>
    <li><a href="https://kr.vuejs.org/" class="nav-link" target="_blank">한국어</a></li>
  </ul>
</li>

<li>
  <a href="https://vue.threadless.com" target="_blank" class="nav-link shop">Loja</a>
  <span class="new-label">NOVO!</span>
</li>

  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/v2/guide/" class="nav-link current">Guia</a></li>
<li><a href="/v2/api/" class="nav-link">API</a></li>
<li><a href="/v2/examples/" class="nav-link">Exemplos</a></li>
<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Ecossistema</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Ajuda</h4></li>
    <li><ul>
      <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">Forum</a></li>
      <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank" style="display: inline-block; padding-right: 0">Chat</a> (<a href="https://vuejs-brasil.slack.com/" class="nav-link" target="_blank" style="display: inline-block; padding: 0">pt-BR</a>)</li>
      <li><a href="https://github.com/vuejs-templates" class="nav-link" target="_blank">Templates</a></li>
    </ul></li>
    <li><h4>Notícias</h4></li>
    <li><ul>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Empregos</a></li>
    </ul></li>
    <li><h4>Plugins Oficiais</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
    </ul></li>
    <li><h4>Listas de Recursos</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Repositórios Oficiais</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Traduções</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/" class="nav-link" target="_blank">Inglês</a></li>
    <li><a href="https://br.vuejs.org/" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://cn.vuejs.org/" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://ru.vuejs.org/" class="nav-link" target="_blank">Русский</a></li>
    <li><a href="https://kr.vuejs.org/" class="nav-link" target="_blank">한국어</a></li>
  </ul>
</li>

<li>
  <a href="https://vue.threadless.com" target="_blank" class="nav-link shop">Loja</a>
  <span class="new-label">NOVO!</span>
</li>

    </ul>
    <div class="list">
        <div class="main-sponsor">
            <span>Patrocínio Platina</span><br>
            <a href="https://stdlib.com" target="_blank" class="logo">
                <img src="/images/stdlib.png">
            </a>
        </div>
        <a class="become-backer" href="/support-vuejs">
            Seja um Patrocinador
        </a>
        <h2>
            
                <select class="version-select">
                    <option value="SELF" selected>2.0</option>
                    <option value="v1">1.0</option>
                    <option value="012">0.12</option>
                    <option value="011">0.11</option>
                </select>
            
        </h2>
        <ul class="menu-root">
            
                
                
                    
                      <li><h3>Essenciais</h3></li>
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/installation.html" class="sidebar-link">Instalação</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/index.html" class="sidebar-link">Introdução</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/instance.html" class="sidebar-link">A Instância Vue</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/syntax.html" class="sidebar-link">Sintaxe de Templates</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/computed.html" class="sidebar-link">Dados Computados e Observadores</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/class-and-style.html" class="sidebar-link">Bindings Class e Style</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/guide/conditional.html" class="sidebar-link">Renderização Condicional</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/conditional.html" class="sidebar-link">Conditional Rendering</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/list.html" class="sidebar-link">Renderização de Listas</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/events.html" class="sidebar-link">Manipulação de Eventos</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/forms.html" class="sidebar-link">Input Bindings em Formulários</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/components.html" class="sidebar-link">Componentes</a>
                </li>
            
                
                
                    
                    
                      <li><h3>Avançado</h3></li>
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/reactivity.html" class="sidebar-link">Reatividada em Profundidade</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/transitions.html" class="sidebar-link">Efeitos de Transição</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/transitioning-state.html" class="sidebar-link">Transitioning State</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/render-function.html" class="sidebar-link">Funções "render" (Renderização)</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/custom-directive.html" class="sidebar-link current">Diretivas Personalizadas</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/mixins.html" class="sidebar-link">Mixins</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/plugins.html" class="sidebar-link">Plugins</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/single-file-components.html" class="sidebar-link">Componentes Single-File</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/deployment.html" class="sidebar-link">Production Deployment Tips</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/guide/deployment.html" class="sidebar-link">Publicando em Produção</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/routing.html" class="sidebar-link">Routing</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/state-management.html" class="sidebar-link">Gerenciamento de Estado</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/unit-testing.html" class="sidebar-link">Unit Testing</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/ssr.html" class="sidebar-link">Renderização Server-Side</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/typescript.html" class="sidebar-link">TypeScript Support</a>
                </li>
            
                
                
                    
                    
                    
                      <li><h3>Migração</h3></li>
                    
                    
                
                
                <li>
                    <a href="/v2/guide/migration.html" class="sidebar-link">Migration from Vue 1.x</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/migration-vue-router.html" class="sidebar-link">Migração do Vue Router 0.7.x</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/migration-vuex.html" class="sidebar-link">Migração do Vuex 0.6.x para 1.0</a>
                </li>
            
                
                
                    
                    
                    
                    
                      <li><h3>Diversos</h3></li>
                    
                
                
                <li>
                    <a href="/v2/guide/comparison.html" class="sidebar-link">Comparação com Outros Frameworks</a>
                </li>
            
                
                
                    
                    
                    
                    
                
                
                <li>
                    <a href="/v2/guide/join.html" class="sidebar-link">Join the Vue.js Community!</a>
                </li>
            
            
        </ul>
    </div>
</div>


<div class="content guide with-sidebar custom-directive-guide">
    
      <div id="ad">
  <!-- <span>Sponsored By</span><br>
  <a href="http://www.thedifferenceengine.io/" target="_blank"
    style="background-color: rgba(0,0,0,.85); padding: 10px 0">
    <img src="/images/tde.png">
  </a> -->
  <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script>
</div>

    
    
      <h1>Diretivas Personalizadas</h1>
    
    <h2 id="Introducao"><a href="#Introducao" class="headerlink" title="Introdução"></a>Introdução</h2><p>Adicionalmente ao conjunto de diretivas incluídas no core, o Vue lhe permite registrar suas próprias diretivas personalizadas. Note que no Vue 2.0, a forma primária de abstração e reuso de código são componentes, no entanto, pode haver casos em que você só precisa de um acesso de baixo nível ao DOM em elementos simples, e aí diretivas personalizadas seriam úteis.<br>Um exemplo seria dar o foco a uma elemento input como este:</p>

<div id="simplest-directive-example" class="demo">
  <input v-focus="">
</div>
<script>
Vue.directive('focus', {
  inserted: function (el) {
    el.focus()
  }
})
new Vue({
  el: '#simplest-directive-example'
})
</script>

<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:src/guide/custom-directive.md</p>
<h1 id="Quando-a-pagina-carrega-o-elemento-ganha-o-foco-Na-verdade-se-voce-ainda-nao-clicou-em-nada-desde-que-visitou-esta-pagina-o-input-acima-devera-estar-com-o-foco-Agora-vamos-construir-a-diretiva-que-faz-isso"><a href="#Quando-a-pagina-carrega-o-elemento-ganha-o-foco-Na-verdade-se-voce-ainda-nao-clicou-em-nada-desde-que-visitou-esta-pagina-o-input-acima-devera-estar-com-o-foco-Agora-vamos-construir-a-diretiva-que-faz-isso" class="headerlink" title="Quando a página carrega, o elemento ganha o foco. Na verdade, se você ainda não clicou em nada desde que visitou esta página, o input acima deverá estar com o foco. Agora vamos construir a diretiva que faz isso:"></a>Quando a página carrega, o elemento ganha o foco. Na verdade, se você ainda não clicou em nada desde que visitou esta página, o input acima deverá estar com o foco. Agora vamos construir a diretiva que faz isso:</h1><p>When the page loads, that element gains focus (note: autofocus doesn’t work on mobile Safari). In fact, if you haven’t clicked on anything else since visiting this page, the input above should be focused now. Now let’s build the directive that accomplishes this:</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>refs/remotes/vuejs/master:src/v2/guide/custom-directive.md</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Register a global custom directive called v-focus</span></div><div class="line">Vue.directive(<span class="string">'focus'</span>, &#123;</div><div class="line">  <span class="comment">// When the bound element is inserted into the DOM...</span></div><div class="line">  inserted: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">    <span class="comment">// Focus the element</span></div><div class="line">    el.focus()</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Se você deseja registrar uma diretiva localmente em vez disso, os componentes também aceitam uma opção <code>directives</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">directives: &#123;</div><div class="line">  <span class="attr">focus</span>: &#123;</div><div class="line">    <span class="comment">// directive definition</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Então, em um template você pode usar o novo atributo <code>v-focus</code> em qualquer elemento, como isto:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-focus</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Funcoes-Hook"><a href="#Funcoes-Hook" class="headerlink" title="Funções Hook"></a>Funções Hook</h2><p>Um objeto de definição de diretiva pode prover algumas funções Hook (todas opcionais):</p>
<ul>
<li><p><code>bind</code>: chamada apenas uma vez, quando a directiva é ligada pela primeira vez ao elemento. Aí é onde você pode fazer o trabalho de configuração uma vez.</p>
</li>
<li><p><code>inserted</code>: chamada quando o elemento foi inserido no nó pai(isso apenas garante a presença no nó pai, não necessariamente no documento).</p>
</li>
<li><p><code>update</code>: chamada após a atualização do componente container, <strong>mas possivelmente antes da atualização de seus filhos</strong>. O valor da diretiva pode ou não ter mudado, mas você pode ignorar atualizações desnecessárias, comparando os valores atuais e os antigos da vinculação (veja abaixo em hook arguments).</p>
</li>
<li><p><code>componentUpdated</code>: chamada após a atualização do componente container <strong>e seus filhos</strong>.</p>
</li>
<li><p><code>unbind</code>: chamada somente uma vez, quando a diretiva é desvinculada do elemento.</p>
</li>
</ul>
<p>Iremos explorar os argumentos passados nessas funções hook (<code>el</code>, <code>binding</code>, <code>vnode</code>, e <code>oldVnode</code>) na próxima seção.</p>
<h2 id="Argumentos-das-funcoes-Hook-das-diretivas"><a href="#Argumentos-das-funcoes-Hook-das-diretivas" class="headerlink" title="Argumentos das funções Hook das diretivas"></a>Argumentos das funções Hook das diretivas</h2><p>Os seguintes argumentos são passados nas funções hooks das diretivas</p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:src/guide/custom-directive.md</p>
<ul>
<li><strong>el</strong>: O elemento a que a diretiva está vinculada. Isso pode ser usado para manipular o DOM diretamente.</li>
<li><strong>binding</strong>: Um objeto contendo as seguintes propriedades.<ul>
<li><strong>name</strong>: O nome da diretiva, sem o prefixo <code>v-</code>.</li>
<li><strong>value</strong>: O valor passado para a diretiva. Por exemplo em <code>v-my-directive=&quot;1 + 1&quot;</code>, o valor passado é <code>2</code>.</li>
<li><strong>oldValue</strong>: O valor anterior, somente disponível em <code>update</code> e <code>componentUpdated</code>. Está presente se o valor foi alterado ou não.</li>
<li><strong>expression</strong>: A expressão de vinculação como uma string. Por exemplo em <code>v-my-directive=&quot;1 + 1&quot;</code>, a expressão seria <code>&quot;1 + 1&quot;</code>.</li>
<li><strong>arg</strong>: O argumento passado para a diretiva, se algum. Por exemplo em <code>v-my-directive:foo</code>, o argumento seria <code>&quot;foo&quot;</code>.</li>
<li><strong>modifiers</strong>: Um objeto contendo modificadores, se algum. Por exemplo em <code>v-my-directive.foo.bar</code>, o objeto seria <code>{ foo: true, bar: true }</code>.</li>
</ul>
</li>
<li><strong>vnode</strong>: O nó virtual produzido pelo compilador do Vue. Veja <a href="/api/#VNode-Interface">VNode API</a> para mais detalhes.</li>
<li><h1 id="oldVnode-O-no-virtual-anterior-somente-disponivel-em-hooks-update-e-componentUpdated"><a href="#oldVnode-O-no-virtual-anterior-somente-disponivel-em-hooks-update-e-componentUpdated" class="headerlink" title="oldVnode: O nó virtual anterior, somente disponível em hooks update e componentUpdated."></a><strong>oldVnode</strong>: O nó virtual anterior, somente disponível em hooks <code>update</code> e <code>componentUpdated</code>.</h1></li>
<li><strong>el</strong>: The element the directive is bound to. This can be used to directly manipulate the DOM.</li>
<li><strong>binding</strong>: An object containing the following properties.<ul>
<li><strong>name</strong>: The name of the directive, without the <code>v-</code> prefix.</li>
<li><strong>value</strong>: The value passed to the directive. For example in <code>v-my-directive=&quot;1 + 1&quot;</code>, the value would be <code>2</code>.</li>
<li><strong>oldValue</strong>: The previous value, only available in <code>update</code> and <code>componentUpdated</code>. It is available whether or not the value has changed.</li>
<li><strong>expression</strong>: The expression of the binding as a string. For example in <code>v-my-directive=&quot;1 + 1&quot;</code>, the expression would be <code>&quot;1 + 1&quot;</code>.</li>
<li><strong>arg</strong>: The argument passed to the directive, if any. For example in <code>v-my-directive:foo</code>, the arg would be <code>&quot;foo&quot;</code>.</li>
<li><strong>modifiers</strong>: An object containing modifiers, if any. For example in <code>v-my-directive.foo.bar</code>, the modifiers object would be <code>{ foo: true, bar: true }</code>.</li>
</ul>
</li>
<li><strong>vnode</strong>: The virtual node produced by Vue’s compiler. See the <a href="../api/#VNode-Interface">VNode API</a> for full details.</li>
<li><strong>oldVnode</strong>: The previous virtual node, only available in the <code>update</code> and <code>componentUpdated</code> hooks.<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>refs/remotes/vuejs/master:src/v2/guide/custom-directive.md</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</li>
</ul>
<p class="tip">Tirando <code>el</code>, você deve tratar esses argumentos como <strong>somente leitura</strong> e nunca modificá-los. Se você precisa compartilhar informações entre hooks, é aconselhável fazê-lo através do elemento <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset" target="_blank" rel="external">dataset</a>.</p>

<p>Um exemplo de diretiva personalizada utilizando algumas dessas propriedades:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hook-arguments-example"</span> <span class="attr">v-demo:foo.a.b</span>=<span class="string">"message"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'demo'</span>, &#123;</div><div class="line">  <span class="attr">bind</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding, vnode</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> s = <span class="built_in">JSON</span>.stringify</div><div class="line">    el.innerHTML =</div><div class="line">      <span class="string">'name: '</span>       + s(binding.name) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'value: '</span>      + s(binding.value) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'expression: '</span> + s(binding.expression) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'argument: '</span>   + s(binding.arg) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'modifiers: '</span>  + s(binding.modifiers) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'vnode keys: '</span> + <span class="built_in">Object</span>.keys(vnode).join(<span class="string">', '</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#hook-arguments-example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">message</span>: <span class="string">'hello!'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="hook-arguments-example" v-demo:foo.a.b="message" class="demo"></div>
<script>
Vue.directive('demo', {
  bind: function (el, binding, vnode) {
    var s = JSON.stringify
    el.innerHTML =
      'name: '       + s(binding.name) + '<br>' +
      'value: '      + s(binding.value) + '<br>' +
      'expression: ' + s(binding.expression) + '<br>' +
      'argument: '   + s(binding.arg) + '<br>' +
      'modifiers: '  + s(binding.modifiers) + '<br>' +
      'vnode keys: ' + Object.keys(vnode).join(', ')
  }
})
new Vue({
  el: '#hook-arguments-example',
  data: {
    message: 'hello!'
  }
})
</script>

<h2 id="Forma-Abreviada-de-Funcoes"><a href="#Forma-Abreviada-de-Funcoes" class="headerlink" title="Forma Abreviada de Funções"></a>Forma Abreviada de Funções</h2><p>Em muitos casos, você pode querer ter o mesmo comportamento em <code>bind</code> e <code>update</code>, mas sem se importar com outros hooks. Por exemplo:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'color-swatch'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</div><div class="line">  el.style.backgroundColor = binding.value</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="Objetos-Literais"><a href="#Objetos-Literais" class="headerlink" title="Objetos Literais"></a>Objetos Literais</h2><p>Se sua diretiva precisa de múltiplos valores, você pode passados em um objeto literal JavaScript. Lembre-se de que as diretivas podem ter qualquer objeto JavaScript válido.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-demo</span>=<span class="string">"&#123; color: 'white', text: 'hello!' &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'demo'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(binding.value.color) <span class="comment">// =&gt; "white"</span></div><div class="line">  <span class="built_in">console</span>.log(binding.value.text)  <span class="comment">// =&gt; "hello!"</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>

    
      <div class="guide-links">
        
          <span>← <a href="/v2/guide/render-function.html">Funções "render" (Renderização)</a></span>
        
        
          <span style="float:right"><a href="/v2/guide/mixins.html">Mixins</a> →</span>
        
      </div>
    
    <div class="footer">
      Encontrou um problema ou quer contribuir com a documentação?
      <a href="https://github.com/vuejs-br/br.vuejs.org/blob/master/src/v2/guide/custom-directive.md" target="_blank">
        Edite esta página no Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->        
        <script src="/js/css.escape.js"></script>
        <script src="/js/common.js"></script>

        <!-- search -->
        <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/search.css">
        <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
        <script>
        [
          '#search-query-nav',
          '#search-query-sidebar'
        ].forEach(function (selector) {
          if (!document.querySelector(selector)) return
          // search index defaults to v2
          var match = window.location.pathname.match(/^\/(v\d+)/)
          var version = match ? match[1] : 'v2'
          docsearch({
            appId: 'BH4D9OD16A',
            apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
            indexName: 'vuejs',
            inputSelector: selector,
            algoliaOptions: { facetFilters: ["version:" + version] }
          })
        })
        </script>

        <!-- fastclick -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
          FastClick.attach(document.body)
        }, false)
        </script>
    </body>
</html>
